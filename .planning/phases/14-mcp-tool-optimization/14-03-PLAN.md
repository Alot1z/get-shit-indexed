---
phase: 14
plan: 03
name: Update Workflows with CG Analysis
description: Add CG analysis patterns to workflows
tasks: 7
estimated_time: 12 min
---

# Plan 14-03: Update Workflows with CG Analysis

## Goal

GSI workflows actively use CodeGraphContext for code relationship analysis.

## Tasks

### Task 1: Add CG discovery to map-codebase
- [ ] Use CG find_code for fuzzy search
- [ ] Use CG analyze_code_relationships for deps
- [ ] Add CG output to STRUCTURE.md

### Task 2: Add CG analysis to plan-phase
- [ ] Query code relationships during planning
- [ ] Use find_path for impact analysis
- [ ] Include CG insights in PLAN.md

### Task 3: Add CG to execute-plan
- [ ] Verify dependencies with CG
- [ ] Use find_callers for impact check
- [ ] Add CG verification step

### Task 4: Add CG to research-phase
- [ ] Use CG for code discovery
- [ ] Use execute_cypher_query for custom analysis
- [ ] Include CG in RESEARCH.md

### Task 5: Add CG to debug workflow
- [ ] Use debug_thinking + CG together
- [ ] Query similar problems in graph
- [ ] Trace error propagation paths

### Task 6: Create CG usage template
- [ ] Add to templates/codegraph-patterns.md
- [ ] Include 10 CG usage patterns
- [ ] Add Mermaid diagrams

### Task 7: Update code_index_mcp sections
- [ ] Add CG server to priority list
- [ ] Document CG → CI → DC flow
- [ ] Add thinking + CG patterns

## Verification

- [ ] 5+ workflows use CG
- [ ] CG patterns documented
- [ ] Token efficiency measured

## Success Criteria

- CG integrated into core workflows
- Usage patterns documented
- Relationship analysis active
