---
phase: 14
plan: 06
name: Update mcp-enforcer for New Tools
description: Ensure enforcement covers all MCP tools
tasks: 5
estimated_time: 8 min
---

# Plan 14-06: Update mcp-enforcer for New Tools

## Goal

MCP enforcement hook covers all new tool usage patterns.

## Tasks

### Task 1: Add CG tools to enforcement
- [ ] Block native analysis when CG available
- [ ] Add CG tool suggestions
- [ ] Document CG enforcement rules

### Task 2: Add CI symbol tools
- [ ] Suggest get_symbol_body for function reading
- [ ] Suggest build_deep_index for fresh analysis
- [ ] Add CI tool mappings

### Task 3: Add batch reading enforcement
- [ ] Detect 3+ sequential reads
- [ ] Suggest read_multiple_files
- [ ] Add batch threshold config

### Task 4: Add thinking enforcement rules
- [ ] Detect complex operations (5+ tools)
- [ ] Suggest thinking server usage
- [ ] Add thinking exceptions

### Task 5: Test enforcement
- [ ] Verify all new rules work
- [ ] Test with various workflows
- [ ] Document false positives

## Verification

- [ ] CG enforcement active
- [ ] CI enforcement active
- [ ] Batch reading enforced
- [ ] Thinking suggestions work

## Success Criteria

- All MCP tools covered by enforcement
- No native tool bypasses
- Clear suggestions provided
