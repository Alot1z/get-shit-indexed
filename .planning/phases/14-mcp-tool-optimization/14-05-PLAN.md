---
plan: 14-05
phase: 14
name: Update Templates and References with MCP Patterns
created: 2026-02-15
status: pending
estimate: 6 tasks
---

# Plan 14-05: Update Templates and References with MCP Patterns

## Goal
Update template and reference files to include MCP tool usage patterns.

## Context
- **Templates:** 20 files in `templates/`
- **References:** 18 files in `references/`
- **Goal:** Include MCP patterns in all documentation

## Tasks

### Task 1: Update Discovery Template
**File:** `templates/discovery.md`
- [ ] Add read_multiple_files usage example
- [ ] Include CI search_code_advanced for code search
- [ ] Add CG for architecture discovery

### Task 2: Update Planner Subagent Template
**File:** `templates/planner-subagent-prompt.md`
- [ ] Add MCP tool priority section
- [ ] Include CG relationship analysis step
- [ ] Add CI symbol navigation pattern

### Task 3: Update Debug Template
**File:** `templates/debug-subagent-prompt.md`
- [ ] Add CG for tracing bug propagation
- [ ] Include CI for finding related code
- [ ] Add batch reading pattern

### Task 4: Create MCP Tool Reference
**File:** `references/mcp-tool-reference.md` (NEW)
- [ ] Complete DC, CI, CG tool listing
- [ ] Include token savings for each tool
- [ ] Add decision tree for tool selection

### Task 5: Update Verification Reference
**File:** `references/verification-patterns.md`
- [ ] Add CI for code verification
- [ ] Include CG for relationship verification
- [ ] Add batch reading for multi-file verification

### Task 6: Commit Changes
**File:** All modified template and reference files
- [ ] Stage all changes
- [ ] Commit with message: "docs(14-05): add MCP patterns to templates and references"

## Verification

### Success Criteria
- [ ] Discovery template has MCP examples
- [ ] Subagent templates have MCP patterns
- [ ] MCP tool reference exists
- [ ] Verification patterns updated

### Test Commands
```bash
# Verify templates have MCP patterns
grep -l "mcp__\|read_multiple_files\|CodeGraphContext" templates/*.md | wc -l
# Expected: 10+

# Verify MCP reference exists
test -f references/mcp-tool-reference.md && echo "PASS" || echo "FAIL"
```

## Dependencies
- Plan 14-01 through 14-04

## Notes
- Templates are used by subagents, so MCP patterns are critical
- References are documentation, so examples are key
