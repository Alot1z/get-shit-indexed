---
phase: 14
plan: 02
name: Add CodeGraphContext to Commands
description: Add CG tools to all relevant commands
tasks: 6
estimated_time: 10 min
---

# Plan 14-02: Add CodeGraphContext to Commands

## Goal

All GSI commands that analyze code include CodeGraphContext tools in allowed-tools.

## Tasks

### Task 1: Identify commands needing CG tools
- [ ] List all 26 GSI commands
- [ ] Categorize by function (planning, execution, analysis)
- [ ] Mark which need CG relationship analysis

### Task 2: Update planning commands
- [ ] Add CG tools to plan-phase.md
- [ ] Add CG tools to discuss-phase.md
- [ ] Add CG tools to research-phase.md

### Task 3: Update analysis commands
- [ ] Add CG tools to map-codebase.md
- [ ] Add CG tools to verify-work.md
- [ ] Add CG tools to audit-milestone.md

### Task 4: Add CG tool usage comments
- [ ] Add <!-- CG Tools Usage --> section
- [ ] Document when to use which CG tool
- [ ] Add neo4j connection reference

### Task 5: Update command examples
- [ ] Add CG query examples
- [ ] Add find_code usage examples
- [ ] Add analyze_code_relationships examples

### Task 6: Verify CG tool declarations
- [ ] Count total CG tool references
- [ ] Ensure all 11 CG tools available
- [ ] Test CG connectivity

## Verification

- [ ] All 26 commands checked
- [ ] 15+ commands have CG tools
- [ ] CG usage documented

## Success Criteria

- CG tools added to relevant commands
- Usage examples provided
- Neo4j connection documented
