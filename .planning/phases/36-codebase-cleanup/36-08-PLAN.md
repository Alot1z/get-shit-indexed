---
phase: 36
plan: 08
title: Configuration & Scripts
wave: 3
priority: LOW
depends_on: []
files_modified:
  - package.json
  - .gitignore
  - scripts/validate.js
autonomous: true
must_haves:
  truths:
    - All npm scripts defined
    - .gitignore complete
    - Validation scripts work
  artifacts:
    - package.json:scripts complete
    - .gitignore:comprehensive
    - scripts/validate.js:functional
  key_links:
    - from: CI/CD
      to: Scripts
      via: npm run commands
---

# 36-08: Configuration & Scripts

## Objective
Add missing npm scripts and ensure configuration is complete.

## Tasks

### Task 1: Audit Current Scripts
**Files**: `package.json`
**Action**: Review current scripts section
**Current**: `build:hooks`, `prepublishOnly`
**Missing**: `test`, `lint`, `validate`
**Done**: Audit complete

### Task 2: Add Test Script
**Files**: `package.json`
**Action**: Add test script:
```json
"scripts": {
  "test": "node tests/run-tests.js",
  "test:unit": "node tests/unit/*.test.js",
  "test:integration": "node tests/integration/*.test.js"
}
```
**Verify**: `npm test` runs without errors
**Done**: Test script added

### Task 3: Add Lint Script
**Files**: `package.json`
**Action**: Add lint script:
```json
"scripts": {
  "lint": "eslint lib/**/*.js hooks/**/*.js",
  "lint:fix": "eslint lib/**/*.js hooks/**/*.js --fix"
}
```
**Verify**: `npm run lint` executes
**Done**: Lint script added

### Task 4: Add Validate Script
**Files**: `package.json`, `scripts/validate.js`
**Action**: Add validation script:
```json
"scripts": {
  "validate": "node scripts/validate.js",
  "validate:refs": "node scripts/validate-references.js",
  "validate:brand": "node scripts/validate-branding.js"
}
```
**Verify**: `npm run validate` runs all checks
**Done**: Validate script added

### Task 5: Update .gitignore
**Files**: `.gitignore`
**Action**: Ensure comprehensive ignore list:
```
# Dependencies
node_modules/

# Build outputs
dist/
build/

# Environment files
.env
.env.local
.env.*.local

# IDE
.idea/
.vscode/
*.swp

# OS files
.DS_Store
Thumbs.db

# Temporary files
*.tmp
*.log
.cache/

# Sensitive files
credentials.json
secrets.json
*.pem
*.key
```
**Verify**: All sensitive files ignored
**Done**: .gitignore complete

### Task 6: Create Validation Script
**Files**: `scripts/validate.js`
**Action**: Create comprehensive validation:
```javascript
#!/usr/bin/env node
const { execSync } = require('child_process');

console.log('Running GSI validation...\n');

const checks = [
  { name: 'CodeGraphContext refs', cmd: 'grep -r "CodeGraphContext" --include="*.md" --include="*.js" | wc -l', expected: '0' },
  { name: 'Hardcoded paths', cmd: 'grep -r "C:\\\\\\\\Users\\\\\\\\" --include="*.md" | wc -l', expected: '0' },
  { name: 'GSD commands', cmd: 'grep -r "/gsd:" --include="*.md" | wc -l', expected: '0' }
];

checks.forEach(check => {
  const result = execSync(check.cmd, { encoding: 'utf-8' }).trim();
  const status = result === check.expected ? '✓' : '✗';
  console.log(`${status} ${check.name}: ${result}`);
});
```
**Verify**: Script runs all checks
**Done**: Validation script created

## Output
- Complete npm scripts
- Comprehensive .gitignore
- Working validation

**Next**: 36-09 - Final Verification
