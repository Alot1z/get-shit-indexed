---
phase: 36
plan: 05
title: Missing lib/index.js
wave: 2
priority: MEDIUM
depends_on: []
files_modified:
  - lib/gsd-integration/index.js
  - lib/pattern-learning/index.js
  - lib/reflection/index.js
  - lib/workflow-thinking/index.js
autonomous: true
must_haves:
  truths:
    - All lib modules have index.js entry points
    - Consistent import patterns across modules
    - All exports properly documented
  artifacts:
    - lib/gsd-integration/index.js:50
    - lib/pattern-learning/index.js:50
    - lib/reflection/index.js:50
    - lib/workflow-thinking/index.js:50
  key_links:
    - from: External code
      to: Lib modules
      via: index.js exports
---

# 36-05: Missing lib/index.js

## Objective
Create index.js entry points for 4 lib modules that lack them.

## Tasks

### Task 1: Audit Current Structure
**Files**: `lib/*/`
**Action**: Check which modules have index.js
```bash
for dir in lib/*/; do ls "$dir"index.js 2>/dev/null || echo "MISSING: $dir"; done
```
**Verify**: Confirmed 4 missing index.js
**Done**: Audit complete

### Task 2: Create gsd-integration/index.js
**Files**: `lib/gsd-integration/index.js`
**Action**: Create entry point exporting all module functions:
```javascript
/**
 * GSD Integration Module
 * Monitors original GSD package for updates
 */

const { checkUpdates } = require('./version-checker');
const { downloadPackage } = require('./downloader');
const { analyzeChanges } = require('./analyzer');
const { suggestIntegration } = require('./suggester');
const { trackUpdate } = require('./tracker');

module.exports = {
  checkUpdates,
  downloadPackage,
  analyzeChanges,
  suggestIntegration,
  trackUpdate
};
```
**Verify**: File created and exports work
**Done**: gsd-integration/index.js created

### Task 3: Create pattern-learning/index.js
**Files**: `lib/pattern-learning/index.js`
**Action**: Create entry point:
```javascript
/**
 * Pattern Learning Module
 * Learns from operations and predicts optimal approaches
 */

const { recognizePattern } = require('./recognizer');
const { storePattern } = require('./storage');
const { predictNext } = require('./predictor');
const { updateMetrics } = require('./metrics');

module.exports = {
  recognizePattern,
  storePattern,
  predictNext,
  updateMetrics
};
```
**Verify**: File created and exports work
**Done**: pattern-learning/index.js created

### Task 4: Create reflection/index.js
**Files**: `lib/reflection/index.js`
**Action**: Create entry point:
```javascript
/**
 * Reflection Module
 * Captures insights after tool operations
 */

const { captureReflection } = require('./capture');
const { extractPattern } = require('./extractor');
const { generateInsight } = require('./insights');
const { storeObservation } = require('./storage');

module.exports = {
  captureReflection,
  extractPattern,
  generateInsight,
  storeObservation
};
```
**Verify**: File created and exports work
**Done**: reflection/index.js created

### Task 5: Create workflow-thinking/index.js
**Files**: `lib/workflow-thinking/index.js`
**Action**: Create entry point:
```javascript
/**
 * Workflow Thinking Module
 * Integrates thinking phases into workflows
 */

const { validateThinking } = require('./validator');
const { injectPhases } = require('./injector');
const { getPhaseTemplate } = require('./templates');

module.exports = {
  validateThinking,
  injectPhases,
  getPhaseTemplate
};
```
**Verify**: File created and exports work
**Done**: workflow-thinking/index.js created

### Task 6: Verify All Exports
**Action**: Test all index.js files can be imported
```bash
for dir in lib/*/; do node -e "require('./$dir')" && echo "OK: $dir"; done
```
**Verify**: All modules import without errors
**Done**: Verification complete

## Output
- 4 new index.js files
- Consistent module structure
- All lib modules importable

**Next**: 36-06 - Missing Workflows
