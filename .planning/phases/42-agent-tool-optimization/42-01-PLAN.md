# Plan 42-01: Comprehensive Agent Tool Optimization

## Objective
Enhance all 11 GSI agents with situation-specific tool selection guidance, token optimization instructions, and intelligent tool decision frameworks.

## Context
- Agent location: agents/gsi-*.md (11 files)
- Current state: All agents have MCP tools but lack situation-specific guidance
- Need: Decision frameworks for optimal tool selection in different contexts

## Tasks

### Task 1: Research Optimal Tool Patterns
- [ ] Analyze each MCP tool's strengths and weaknesses
- [ ] Document token savings for each tool combination
- [ ] Create decision matrices for common scenarios
- [ ] Identify tool synergies and anti-patterns

### Task 2: Create Tool Selection Framework
- [ ] Design situation-specific decision trees
- [ ] Create file-size-based selection rules
- [ ] Create operation-type-based selection rules
- [ ] Create complexity-based selection rules

### Task 3: Enhance GSI-Planner Agent
- [ ] Add tool selection guidance section
- [ ] Add file count thresholds (1-2 vs 3+ files)
- [ ] Add pattern search vs content search decision guide
- [ ] Add token optimization notes for planning operations

### Task 4: Enhance GSI-Executor Agent
- [ ] Add execution-specific tool guidance
- [ ] Add batch operation patterns
- [ ] Add verification tool selection
- [ ] Add error handling tool selection

### Task 5: Enhance GSI-Debugger Agent
- [ ] Add debugging-specific tool guidance
- [ ] Add code investigation patterns
- [ ] Add error search optimization
- [ ] Add fix implementation tool selection

### Task 6: Enhance Research Agents
- [ ] Enhance gsi-phase-researcher with search optimization
- [ ] Enhance gsi-project-researcher with web/search patterns
- [ ] Enhance gsi-research-synthesizer with batch patterns
- [ ] Add documentation discovery patterns

### Task 7: Enhance Verification Agents
- [ ] Enhance gsi-verifier with code analysis patterns
- [ ] Enhance gsi-plan-checker with validation patterns
- [ ] Enhance gsi-integration-checker with relationship patterns
- [ ] Enhance gsi-roadmapper with structure patterns

### Task 8: Create Universal Tool Guide
- [ ] Create TOOL-SELECTION-GUIDE.md reference
- [ ] Include all decision trees
- [ ] Include token savings tables
- [ ] Include situation-specific examples

### Task 9: Update All Agent Comments
- [ ] Add MCP Tools Usage section to each agent
- [ ] Include tool selection hints in comments
- [ ] Link to TOOL-SELECTION-GUIDE.md
- [ ] Add token optimization reminders

### Task 10: Verification & Testing
- [ ] Test tool selection patterns on sample operations
- [ ] Verify token savings match documented values
- [ ] Ensure decision trees are actionable
- [ ] Create usage examples for each pattern

## Success Criteria
- [ ] All 11 agents have situation-specific tool guidance
- [ ] TOOL-SELECTION-GUIDE.md created with comprehensive patterns
- [ ] Token savings documented for each tool combination
- [ ] Decision trees actionable without ambiguity

## Estimated Time
90 minutes

## Dependencies
- Phase 41 complete (or parallel with 39-41)

## Output
Enhanced agent files with intelligent tool selection, comprehensive documentation, and measurable token optimization.
