# Plan 37-04: Integrate knowledge-base Module

## Objective
Integrate the knowledge-base.ts module into the GSI npm package for pattern extraction and knowledge management.

## Context
- Module location: get-shit-indexed/lib/workflow-modules/knowledge-base.ts
- Purpose: Extracts patterns, principles, and reusable knowledge from the GSI codebase
- Features: Pattern extraction, template generation, skill generation, searchable index

## Tasks

### Task 1: Update Module Index
- [ ] Add KnowledgeBase export to index.ts
- [ ] Export all types (KnowledgePattern, PatternCategory, KnowledgeTemplate, etc.)
- [ ] Export extraction result types

### Task 2: Add CLI Commands
- [ ] Add `gsi knowledge extract <path>` - Extract patterns from files
- [ ] Add `gsi knowledge search <query>` - Search knowledge base
- [ ] Add `gsi knowledge generate-skill <pattern-id>` - Generate skill from pattern
- [ ] Add `gsi knowledge list` - List all patterns
- [ ] Add `gsi knowledge stats` - Show knowledge base statistics

### Task 3: Create Pattern Storage
- [ ] Create ~/.claude/gsi-knowledge/ directory structure
- [ ] Create patterns/ subdirectory for pattern storage
- [ ] Create templates/ subdirectory for templates
- [ ] Create best-practices/ subdirectory
- [ ] Create index.json for searchable index

### Task 4: Add Pattern Categories
- [ ] Implement command-patterns category
- [ ] Implement thinking-configs category
- [ ] Implement workflows category
- [ ] Implement agents category
- [ ] Implement error-handling category
- [ ] Implement optimization category

### Task 5: Add Skill Generation
- [ ] Implement pattern-to-skill converter
- [ ] Add skill template system
- [ ] Create skill file in ~/.claude/skills/
- [ ] Add skill metadata

### Task 6: Add Effectiveness Tracking
- [ ] Track pattern usage count
- [ ] Track pattern success rate
- [ ] Implement effectiveness scoring
- [ ] Add pattern recommendations

### Task 7: Create Tests
- [ ] Test pattern extraction from commands
- [ ] Test pattern extraction from workflows
- [ ] Test skill generation
- [ ] Test search functionality

## Success Criteria
- [ ] knowledge-base.ts exported from GSI package
- [ ] All CLI commands working
- [ ] Pattern storage working
- [ ] Skill generation working

## Estimated Time
35 minutes

## Dependencies
- Plan 37-03 complete
