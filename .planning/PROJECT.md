# MCP-Enhanced GSI

## What This Is

A comprehensive enhancement of the GSI (Get Shit Indexed) system that fully integrates three MCP servers—Desktop Commander (DC), Code-Index MCP (CI), and CodeGraphContext (CG)—with optimal tool chain patterns. This system replaces native bash commands with MCP equivalents, enabling token-efficient workflow automation with built-in verification and debugging capabilities.

## Core Value

**Token-efficient, reliable GSI workflows that leverage all three MCP servers (DC + CI + CG) using proven tool chain patterns.**

Every operation must use the optimal tool sequence: discover → understand → act → verify, with CI for navigation/symbols, DC for files/processes, and CG for relationship analysis.

## Requirements

### Validated

(None yet — ship to validate)

### Active

- [ ] **MCP-INT-01**: All GSI workflows updated to use MCP tools instead of native bash
- [ ] **MCP-INT-02**: Code-Index MCP (CI) fully integrated with <code_index_mcp> headers
- [ ] **MCP-INT-03**: Desktop Commander (DC) fully integrated across all workflows
- [ ] **MCP-INT-04**: CodeGraphContext (CG) integrated for relationship-aware workflows
- [ ] **MCP-INT-05**: Tool chain reference guide consolidating all research into unified patterns
- [ ] **MCP-INT-06**: GSI commands at `C:\Users\mose\.claude\commands\GSI` updated for all 3 MCP servers
- [ ] **MCP-INT-07**: All research files (tool chain analysis) fully integrated into system
- [ ] **MCP-INT-08**: Cloned upstream repo at `C:\github-repos\my-claude-code-repos\get-shit-indexed-code-index` updated
- [ ] **MCP-INT-09**: Token optimization rules enforced (80-90% savings via MCP)
- [ ] **MCP-INT-10**: All 3 thinking servers available and properly configured

### Out of Scope

- [Enterprise features] — No teams, stakeholders, or project management overhead
- [Complex authentication] — No OAuth, SSO, or permission systems
- [Story points] — No agile ceremony, just GSI guarantees
- [Separate documentation site] — Single-source truth in workflow files

## Context

**Existing Assets:**
- `C:\Users\mose\.claude\get-shit-indexed` — Local working directory with existing workflow updates (~95% MCP-integrated)
- `C:\Users\mose\.claude\commands\GSI` — GSI command definitions
- `C:\github-repos\my-claude-code-repos\get-shit-indexed-code-index` — Cloned upstream repo
- `C:\Users\mose\.claude\get-shit-indexed\implementing-using-code-index-mcp\` — Research directory with comprehensive analysis
- `C:\Users\mose\.claude\get-shit-indexed\references\` — Reference guides (questioning.md, ui-brand.md, templates)

**Research Completed:**
- **GSI-rewrite.txt** — Complete workflow rewrite with MCP tool patterns
- **CODE-INDEX-MCP-GUIDE.md** — Code-Index server usage guide
- **TOOL-PRIORITY-RULES.md** — Mandatory tool selection priorities (MCP > Native)
- **MCP-Tool-Chain-Full-Analysis.md** — 3-server integration patterns with 15 linear, 4 circular, and 5 hybrid patterns
- **MCP-Tool-Chain-10-Cycle-Analysis.md** — Extended analysis with decision trees
- **mcp-tool-chain-analysis.md** — Tool catalogs and token optimization insights
- **whole-chat.txt** — Complete research session transcript

**Golden Pattern Identified:**
```
CG → CI → CI → DC → DC → CI
(discover → understand → act → verify)
```

## Constraints

- **Technology Stack**: Must support DC, CI, CG MCP servers simultaneously
- **Token Budget**: MCP tools provide 80-90% token savings vs native tools
- **Backward Compatibility**: Existing GSI commands must continue working
- **Documentation**: All patterns must be documented with Mermaid diagrams
- **Verification**: Every workflow must be testable and verifiable

## Key Decisions

| Decision | Rationale | Outcome |
|----------|-----------|---------|
| 3-MCP architecture | Maximizes token efficiency and tool capabilities | — Pending |
| Sequential → Hybrid patterns | Simple tasks use linear chains, complex debugging uses hybrid | — Pending |
| <code_index_mcp> headers | Declarative MCP usage in workflow files | — Pending |
| Wave-based spawning | Prevents API rate limits with staggered agent launches | — Pending |
| Inline Mermaid diagrams | Visual patterns easier to understand than text descriptions | — Pending |

---
*Last updated: 2025-02-11 after project initialization*
